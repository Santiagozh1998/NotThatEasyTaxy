{"ast":null,"code":"import _classCallCheck from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/santiago/Escritorio/NotThatEasyTaxy/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/santiago/Escritorio/NotThatEasyTaxy/client/src/components/main/login.js\";\n//Dependencias\nimport React, { Component } from 'react';\nimport Taxi from \"../images/Taxi.svg\"; //Componentes\n\nimport '../styles.css';\nimport Footer from '../footer';\nvar componentCurrent;\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      message: \"User is not logged\",\n      isChanged: 0\n    };\n    _this.componentDidUpdate = _this.componentDidUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    componentCurrent = React.createElement(\"div\", {\n      className: \"image-wait\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"text-wait\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Esperando respuesta...\"));\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      localStorage.getItem(\"IsLogged\") && this.setState({\n        message: localStorage.getItem(\"IsLogged\"),\n        isChanged: 0\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.state.isChanged === 0) {\n        if (this.state.message === \"User is not logged\") {\n          this.setState({\n            isChanged: 1\n          });\n          componentCurrent = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"main\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"image-taxi\",\n            src: Taxi,\n            alt: \"Taxi\",\n            width: \"300\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"container box-login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"login-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, \"Iniciar Sesi\\xF3n\"), React.createElement(\"form\", {\n            className: \"form-login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            className: \"field-login text-field\",\n            id: \"celular\",\n            type: \"text\",\n            placeholder: \"Celular\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            className: \"field-login text-field\",\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Contrase\\xF1a\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          })), React.createElement(\"button\", {\n            onClick: function onClick() {\n              /*\n                  \n              */\n              fetch('/signin', {\n                method: 'POST'\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                return localStorage.setItem(\"IsLogged\", res.status);\n              }, _this2.setState({\n                message: res.status\n              }));\n            },\n            className: \"login-button text-field\",\n            type: \"submit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, \"Iniciar Sesi\\xF3n\"))), React.createElement(Footer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }));\n        }\n\n        if (this.state.message === \"User is logged\") {\n          window.location = \"/Maps\";\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return componentCurrent;\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"sources":["/home/santiago/Escritorio/NotThatEasyTaxy/client/src/components/main/login.js"],"names":["React","Component","Footer","componentCurrent","Main","props","state","message","isChanged","componentDidUpdate","bind","localStorage","getItem","setState","Taxi","fetch","method","then","res","json","setItem","status","window","location"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;uCAGA;;AACA,OAAO,eAAP;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAIC,gBAAJ;;IAEMC,I;;;;;AAEF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,oBADA;AAETC,MAAAA,SAAS,EAAE;AAFF,KAAb;AAKA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,uDAA1B;AAEAP,IAAAA,gBAAgB,GACZ;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,CADJ;AAVe;AAelB;;;;wCAEmB;AAChBQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,KAAKC,QAAL,CAAc;AAC9CN,QAAAA,OAAO,EAAEI,YAAY,CAACC,OAAb,CAAqB,UAArB,CADqC;AAE9CJ,QAAAA,SAAS,EAAE;AAFmC,OAAd,CAApC;AAGH;;;yCAEoB;AAAA;;AAEjB,UAAG,KAAKF,KAAL,CAAWE,SAAX,KAAyB,CAA5B,EAA8B;AAE1B,YAAG,KAAKF,KAAL,CAAWC,OAAX,KAAuB,oBAA1B,EAA+C;AAE3C,eAAKM,QAAL,CAAc;AAACL,YAAAA,SAAS,EAAE;AAAZ,WAAd;AACAL,UAAAA,gBAAgB,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,YAAf;AAA4B,YAAA,GAAG,EAAEW,IAAjC;AAAuC,YAAA,GAAG,EAAC,MAA3C;AAAkD,YAAA,KAAK,EAAC,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADJ,EAII;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACQ;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADR,EAEQ;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAO,YAAA,SAAS,EAAC,wBAAjB;AAA0C,YAAA,EAAE,EAAC,SAA7C;AAAuD,YAAA,IAAI,EAAC,MAA5D;AAAmE,YAAA,WAAW,EAAC,SAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAO,YAAA,SAAS,EAAC,wBAAjB;AAA0C,YAAA,EAAE,EAAC,UAA7C;AAAwD,YAAA,IAAI,EAAC,UAA7D;AAAwE,YAAA,WAAW,EAAC,eAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAFR,EAOQ;AAAQ,YAAA,OAAO,EAAE,mBAAI;AACjB;;;AAGDC,cAAAA,KAAK,CAAC,SAAD,EAAY;AACbC,gBAAAA,MAAM,EAAE;AADK,eAAZ,CAAL,CAGCC,IAHD,CAGM,UAAAC,GAAG;AAAA,uBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,eAHT,EAICF,IAJD,CAIM,UAAAC,GAAG;AAAA,uBAAIP,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCF,GAAG,CAACG,MAArC,CAAJ;AAAA,eAJT,EAI2D,MAAI,CAACR,QAAL,CAAc;AAACN,gBAAAA,OAAO,EAAEW,GAAG,CAACG;AAAd,eAAd,CAJ3D;AAME,aAVL;AAUO,YAAA,SAAS,EAAC,yBAVjB;AAU2C,YAAA,IAAI,EAAC,QAVhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAPR,CAJJ,CADJ,EA2BI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BJ,CADA;AAgCH;;AAED,YAAG,KAAKf,KAAL,CAAWC,OAAX,KAAuB,gBAA1B,EAA2C;AAEvCe,UAAAA,MAAM,CAACC,QAAP,GAAkB,OAAlB;AACH;AACJ;AACJ;;;6BAEO;AACJ,aAAOpB,gBAAP;AACH;;;;EA3EcF,S;;AA8EnB,eAAeG,IAAf","sourcesContent":["//Dependencias\nimport React, { Component } from 'react';\nimport Taxi from '../images/Taxi.svg';\n\n//Componentes\nimport '../styles.css';\nimport Footer from '../footer';\n\nvar componentCurrent;\n\nclass Main extends Component{\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            message: \"User is not logged\",\n            isChanged: 0\n        }\n\n        this.componentDidUpdate = this.componentDidUpdate.bind(this);\n        \n        componentCurrent = \n            <div className=\"image-wait\">\n                <h3 className=\"text-wait\">Esperando respuesta...</h3>   \n            </div>;\n            \n    }\n\n    componentDidMount() {\n        localStorage.getItem(\"IsLogged\") && this.setState({\n            message: localStorage.getItem(\"IsLogged\"),\n            isChanged: 0})\n    }\n\n    componentDidUpdate() {\n        \n        if(this.state.isChanged === 0){\n\n            if(this.state.message === \"User is not logged\"){\n\n                this.setState({isChanged: 1});\n                componentCurrent =\n                <div>\n                    <div className=\"main\">\n                        <div className=\"container\">\n                            <img className=\"image-taxi\" src={Taxi} alt=\"Taxi\" width=\"300\"/>\n                        </div>\n                        <div className=\"container box-login\">\n                                <h1 className=\"login-title\">Iniciar Sesión</h1>\n                                <form className=\"form-login\">\n                                    <input className=\"field-login text-field\" id=\"celular\" type=\"text\" placeholder=\"Celular\"/> \n                                    <input className=\"field-login text-field\" id=\"password\" type=\"password\" placeholder=\"Contraseña\"/>  \n                                    \n                                </form>       \n                                <button onClick={()=>{\n                                    /*\n                                        \n                                    */\n                                   fetch('/signin', {\n                                       method: 'POST'\n                                   })\n                                   .then(res => res.json())\n                                   .then(res => localStorage.setItem(\"IsLogged\", res.status), this.setState({message: res.status}))\n                                                              \n                                    }} className=\"login-button text-field\" type=\"submit\">\n                                        Iniciar Sesión                                  \n                                    </button>                                                         \n                        </div>                    \n                    </div>\n                    <Footer />\n                </div>\n\n                \n            }\n            \n            if(this.state.message === \"User is logged\"){\n                \n                window.location = \"/Maps\"\n            }\n        }\n    }\n\n    render(){\n        return componentCurrent;\n    }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}